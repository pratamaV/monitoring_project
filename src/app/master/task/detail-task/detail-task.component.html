<app-sidebar></app-sidebar>
<div class="card">

  <div class="container-sm">
    <div class="panel panel-default panel-table col-lg-12">
      <div class="panel-heading">
        <div class="col col-xs-6 mt-4 mb-3 text-left">
          <h4><i class="fa fa-chevron-circle-left" (click)="onGolistMyTask()"></i> Detail Task {{myTask.taskName}}</h4>
        </div>
        <br>
        <div class="row">
          <div class="col col-xs-6 mt-3 mb-3">
            <div class="panel-body" style="overflow-x:auto;">
              <table class="table table-striped ">
                <tbody>
                <tr>
                  <td>Task Code</td>
                  <td>:</td>
                  <td>{{myTask.taskCode}}</td>
                </tr>
                <tr>
                  <td>Task Name</td>
                  <td>:</td>
                  <td>{{myTask.taskName}}</td>
                </tr>
                <tr>
                  <td>Release Name</td>
                  <td>:</td>
                  <td>{{myTask.release.releaseName}}</td>
                </tr>

                <tr>
                  <td>Task Score</td>
                  <td>:</td>
                  <td>{{myTask.score}}</td>
                </tr>
                <tr>
                  <td>Task Weight</td>
                  <td>:</td>
                  <td>{{myTask.weight}}</td>
                </tr>
                <tr>
                  <td>Task Status Done</td>
                  <td>:</td>
                  <td>{{myTask.statusDone}}</td>
                </tr>
                <tr>
                  <td>Est. Start Date</td>
                  <td>:</td>
                  <td>{{myTask.estStartDate}}</td>
                </tr>
                <tr>
                  <td>Est. End Date</td>
                  <td>:</td>
                  <td>{{myTask.estEndDate}}</td>
                </tr>
                <tr>
                  <td>Act. End Date</td>
                  <td>:</td>
                  <td>{{myTask.actEndDate}}</td>
                </tr>
                <tr>
                  <td>Assign To</td>
                  <td>:</td>
                  <td>{{myTask.assignedTo.username}}</td>
                </tr>
                </tbody>
              </table>
              <table>
                <!--                          <td>-->
                <!--                            <button [disabled]="myTask.taskDocument===null" (click)="downloadTaskDoc(myTask.taskDocument)" class="btn btn-outline-info btn-sm" data-toggle="tooltip" data-placement="bottom" title="Download"><i class="fa fa-download"></i></button>-->
                <!--                          </td>-->
                <td>
                  <form [formGroup]="detailmytaskForm" method="post"
                        (ngSubmit)="onUploadDocument(detailmytaskForm.value, detailmytaskForm.valid, myTask.id)">
                    <div class="col-12 col-xs-6">
                      <div class="row">
                        <small>Upload Document</small>
                        <div class="input-group-sm col">
                          <input #imageInput type="file" accept="image/*" (change)="processFile(imageInput)"
                                 class="form-control">
                        </div>
                        <div class="input-group-append col-2" style="margin-left: -20px;">
                          <button [disabled]="!detailmytaskForm.valid || myTask.taskDocument!==null" type="submit"
                                  class="btn btn-outline-success btn-sm" data-toggle="tooltip" data-placement="bottom"
                                  title="Upload"><i class="fa fa-upload"></i></button>
                        </div>
                      </div>
                    </div>

                    <!-- </label> -->
                    <small style="color: red">*max file 10MB</small>
                  </form>
                  <form [formGroup]="detailmytaskForm" method="POST"
                        (ngSubmit)="updateStatusDoneTask(myTask.id,detailmytaskForm.value)">
                    <div class="col-12 col-xs-6">
                      <div class="row">
                        <div class="input-group-sm col">
                          <input formControlName="prosentase" type="text" (change)="processText(detailmytaskForm.value)"
                                 class="form-control">
                        </div>
                        <div class="input-group-append col-2" style="margin-left: -20px;">
                          <button [disabled]="myTask.statusDone==='Ya'|| role ==='03'" type="submit"
                                  class="btn btn-outline-success btn-sm" data-toggle="tooltip" data-placement="bottom"
                                  title="Upload"><i class="fa fa-check"></i></button>
                        </div>
                      </div>
                    </div>
                  </form>

                </td>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
